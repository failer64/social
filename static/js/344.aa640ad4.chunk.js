"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[344],{6477:function(e,n,r){r.r(n),r.d(n,{default:function(){return Q}});var t=r(1413),i=r(2982),u=r(885),s="Users_row__k66oc",a="Users_block__OG-lr",c="Users_top__H4240",o="Users_photo__IDq11",l="Users_button__a01lk",f="Users_description__AoMK3",d="Users_name__9idWv",p="Users_status__NBs6z",v="Users_text__o5lb4",h=r(4942),m="Paginator_paging__LgCzI",g="Paginator_active__SNPuq",_=r(2791),x=r(1694),j=r.n(x),b=r(9434),y="NOT_FOUND";var N=function(e,n){return e===n};function k(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,i=void 0===t?N:t,u=r.maxSize,s=void 0===u?1:u,a=r.resultEqualityCheck,c=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,i=0;i<t;i++)if(!e(n[i],r[i]))return!1;return!0}}(i),o=1===s?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:y},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(c):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var i=r[t];return t>0&&(r.splice(t,1),r.unshift(i)),i.value}return y}return{get:t,put:function(n,i){t(n)===y&&(r.unshift({key:n,value:i}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(s,c);function l(){var n=o.get(arguments);if(n===y){if(n=e.apply(null,arguments),a){var r=o.getEntries(),t=r.find((function(e){return a(e.value,n)}));t&&(n=t.value)}o.put(arguments,n)}return n}return l.clearCache=function(){return o.clear()},l}function P(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function w(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var i=function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];var u,s=0,a={memoizeOptions:void 0},c=t.pop();if("object"===typeof c&&(a=c,c=t.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var o=a,l=o.memoizeOptions,f=void 0===l?r:l,d=Array.isArray(f)?f:[f],p=P(t),v=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],n=p.length,r=0;r<n;r++)e.push(p[r].apply(null,arguments));return u=v.apply(null,e)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:v,dependencies:p,lastResult:function(){return u},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),h};return i}var S=w(k),C=function(e){return e.usersPage.users},z=(S(C,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.pageSize}),Z=function(e){return e.usersPage.totalUsersCount},E=function(e){return e.usersPage.currentPage},U=function(e){return e.usersPage.isFetching},F=function(e){return e.usersPage.followingInProgress},O=function(e){return e.usersPage.filter},A=r(184),R=function(e){for(var n=e.pageSize,r=e.currentPage,t=e.onPageChanged,i=e.portionSize,s=void 0===i?15:i,a=(0,b.v9)(Z),c=Math.ceil(a/n),o=[],l=1;l<=c;l++)o.push(l);var f=Math.ceil(c/s),d=(0,_.useState)(1),p=(0,u.Z)(d,2),v=p[0],x=p[1],y=(v-1)*s+1,N=v*s;return(0,_.useEffect)((function(){x(Math.ceil(r/s))}),[r,s]),(0,A.jsxs)("div",{className:m,children:[v>1&&(0,A.jsx)("span",{onClick:function(){return x(v-1)},children:"prev"}),o.filter((function(e){return e>=y&&e<=N})).map((function(e,n){return(0,A.jsx)("span",{onClick:function(){return t(e)},className:j()((0,h.Z)({},g,e===r)),children:e},n)})),f>v&&(0,A.jsx)("span",{onClick:function(){return x(v+1)},children:"next"})]})},I=r.p+"static/media/photo.d5e10f3223b2e8bd0ea6.jpg",q=r(6731),M=r(8386),D=r(2590),H=function(e){var n=e.user,r=(0,b.I0)(),t=(0,b.v9)(F),i=(0,b.v9)(D.d);return(0,A.jsxs)("div",{className:a,children:[(0,A.jsx)("div",{className:c,children:(0,A.jsx)(q.OL,{to:"/profile/"+n.id,children:(0,A.jsx)("div",{className:o,children:(0,A.jsx)("img",{alt:"img",src:n.photos.small||I})})})}),(0,A.jsx)("div",{className:f,children:(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:d,children:n.name}),(0,A.jsx)("div",{className:p,children:n.status}),(0,A.jsxs)("div",{className:v,children:["id: ",n.id]})]})}),n.followed?(0,A.jsx)("button",{disabled:t.some((function(e){return e===n.id}))||!i,onClick:function(){r((0,M.fv)(n.id))},className:l,children:"delete"}):(0,A.jsx)("button",{disabled:t.some((function(e){return e===n.id}))||!i,onClick:function(){r((0,M.ZN)(n.id))},className:l,children:"add friend"})]},n.id)},L=r(6001),T=r(5705),B="SearchForm_body__zvf78",G="SearchForm_input__g9uO0",J="SearchForm_select__Zl3wr",K="SearchForm_button__hP6q2",V=function(e){var n=e.pageSize,r=e.filter,t=(0,b.I0)(),i={term:r.term,friend:null===r.friend?"null":!0===r.friend?"true":"false"};return(0,A.jsx)("div",{className:B,children:(0,A.jsx)(T.J9,{enableReinitialize:!0,initialValues:i,onSubmit:function(e,r){var i=r.setSubmitting,u={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t((0,M.Rf)(1,n,u)),t(M.Nw.setCurrentPage(1)),i(!1)},children:function(e){var n=e.isSubmitting;return(0,A.jsxs)(T.l0,{children:[(0,A.jsx)(T.gN,{className:G,type:"text",name:"term",placeholder:"Enter Name"}),(0,A.jsxs)(T.gN,{className:J,name:"friend",as:"select",children:[(0,A.jsx)("option",{value:"null",children:"All"}),(0,A.jsx)("option",{value:"true",children:"Followed"}),(0,A.jsx)("option",{value:"false",children:"Not Followed"})]}),(0,A.jsx)("button",{className:K,type:"submit",disabled:n,children:"Search"})]})}})})},W=r(7689),Q=_.memo((function(){var e=(0,b.v9)(U),n=(0,b.v9)(E),r=(0,b.v9)(z),a=(0,b.v9)(C),c=(0,b.v9)(O),o=(0,b.I0)(),l=(0,W.TH)(),f=(0,W.s0)(),d=(0,q.lr)(l.search),p=(0,u.Z)(d,1)[0];(0,_.useEffect)((function(){var e=Object.fromEntries((0,i.Z)(p)),u=Number(e.page),s=c;switch(s.term=e.term,void 0===s.term&&(s.term=""),e.friend){case"null":s=(0,t.Z)((0,t.Z)({},s),{},{friend:null});break;case"true":s=(0,t.Z)((0,t.Z)({},s),{},{friend:!0});break;case"false":s=(0,t.Z)((0,t.Z)({},s),{},{friend:!1})}u?(o(M.Nw.setCurrentPage(u)),o((0,M.Rf)(u,r,s))):o((0,M.Rf)(n,r,s))}),[]),(0,_.useEffect)((function(){f("/users?page=".concat(n)+(c.term&&"&term=".concat(c.term))+(null!==c.friend?"&friend=".concat(c.friend):""))}),[c,n,l.search]);return(0,A.jsxs)("div",{children:[(0,A.jsx)(V,{pageSize:r,filter:c}),(0,A.jsx)(R,{pageSize:r,onPageChanged:function(e){o(M.Nw.setCurrentPage(e)),o((0,M.Rf)(e,r,c))},currentPage:n}),e?(0,A.jsx)(L.Z,{}):(0,A.jsxs)("div",{className:s,children:[a.map((function(e){return(0,A.jsx)(H,{user:e},e.id)})),!a.length&&(0,A.jsx)("div",{children:"not found"})]})]})}))}}]);
//# sourceMappingURL=344.aa640ad4.chunk.js.map