"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[853],{595:function(e,n,r){r.r(n),r.d(n,{default:function(){return D}});var s=r(1413),t=r(3433),i=r(9439),a="Users_row__k66oc",l="Users_block__OG-lr",c="Users_top__H4240",u="Users_photo__IDq11",o="Users_button__a01lk",d="Users_description__AoMK3",f="Users_name__9idWv",m="Users_status__NBs6z",h="Users_text__o5lb4",_=r(1566),g=r.p+"static/media/photo.d5e10f3223b2e8bd0ea6.jpg",v=r(6731),x=r(9434),j=r(8386),p=r(6916),N=function(e){return e.usersPage.users},b=((0,p.P1)(N,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.pageSize}),P=function(e){return e.usersPage.totalUsersCount},S=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isFetching},Z=function(e){return e.usersPage.followingInProgress},k=function(e){return e.usersPage.filter},z=r(2590),C=r(184),U=function(e){var n=e.user,r=(0,x.I0)(),s=(0,x.v9)(Z),t=(0,x.v9)(z.d);return(0,C.jsxs)("div",{className:l,children:[(0,C.jsx)("div",{className:c,children:(0,C.jsx)(v.OL,{to:"/profile/"+n.id,children:(0,C.jsx)("div",{className:u,children:(0,C.jsx)("img",{alt:"img",src:n.photos.small||g})})})}),(0,C.jsx)("div",{className:d,children:(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:f,children:n.name}),(0,C.jsx)("div",{className:m,children:n.status}),(0,C.jsxs)("div",{className:h,children:["id: ",n.id]})]})}),n.followed?(0,C.jsx)("button",{disabled:s.some((function(e){return e===n.id}))||!t,onClick:function(){r((0,j.fv)(n.id))},className:o,children:"delete"}):(0,C.jsx)("button",{disabled:s.some((function(e){return e===n.id}))||!t,onClick:function(){r((0,j.ZN)(n.id))},className:o,children:"add friend"})]},n.id)},F=r(2791),I=r(6001),O=r(5705),R="SearchForm_body__zvf78",y="SearchForm_input__g9uO0",E="SearchForm_select__Zl3wr",A="SearchForm_button__hP6q2",q=function(e){var n=e.pageSize,r=e.filter,s=(0,x.I0)(),t={term:r.term,friend:null===r.friend?"null":!0===r.friend?"true":"false"};return(0,C.jsx)("div",{className:R,children:(0,C.jsx)(O.J9,{enableReinitialize:!0,initialValues:t,onSubmit:function(e,r){var t=r.setSubmitting,i={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};s((0,j.Rf)(1,n,i)),s(j.Nw.setCurrentPage(1)),t(!1)},children:function(e){var n=e.isSubmitting;return(0,C.jsxs)(O.l0,{children:[(0,C.jsx)(O.gN,{className:y,type:"text",name:"term",placeholder:"Enter Name"}),(0,C.jsxs)(O.gN,{className:E,name:"friend",as:"select",children:[(0,C.jsx)("option",{value:"null",children:"All"}),(0,C.jsx)("option",{value:"true",children:"Followed"}),(0,C.jsx)("option",{value:"false",children:"Not Followed"})]}),(0,C.jsx)("button",{className:A,type:"submit",disabled:n,children:"Search"})]})}})})},B=r(7689),H=F.memo((function(){var e=(0,x.v9)(w),n=(0,x.v9)(S),r=(0,x.v9)(b),l=(0,x.v9)(N),c=(0,x.v9)(k),u=(0,x.v9)(P),o=(0,x.I0)(),d=(0,B.TH)(),f=(0,B.s0)(),m=(0,v.lr)(d.search),h=(0,i.Z)(m,1)[0];(0,F.useEffect)((function(){var e=Object.fromEntries((0,t.Z)(h)),i=Number(e.page),a=c;switch(a.term=e.term,void 0===a.term&&(a.term=""),e.friend){case"null":a=(0,s.Z)((0,s.Z)({},a),{},{friend:null});break;case"true":a=(0,s.Z)((0,s.Z)({},a),{},{friend:!0});break;case"false":a=(0,s.Z)((0,s.Z)({},a),{},{friend:!1})}i?(o(j.Nw.setCurrentPage(i)),o((0,j.Rf)(i,r,a))):o((0,j.Rf)(n,r,a))}),[]),(0,F.useEffect)((function(){f("/users?page=".concat(n)+(c.term&&"&term=".concat(c.term))+(null!==c.friend?"&friend=".concat(c.friend):""))}),[c,n,d.search]);return(0,C.jsxs)("div",{children:[(0,C.jsx)(q,{pageSize:r,filter:c}),(0,C.jsx)(_.Z,{onShowSizeChange:function(){var e=arguments.length>1?arguments[1]:void 0;o(j.Nw.resizePage(e))},pageSizeOptions:[6,12,24,48],defaultPageSize:12,total:u,onChange:function(e,n){o(j.Nw.setCurrentPage(e)),o((0,j.Rf)(e,n,c))},current:n,style:{marginBottom:"20px",textAlign:"center"}}),e?(0,C.jsx)(I.Z,{}):(0,C.jsxs)("div",{className:a,children:[l.map((function(e){return(0,C.jsx)(U,{user:e},e.id)})),!l.length&&(0,C.jsx)("div",{children:"not found"})]})]})})),D=H}}]);
//# sourceMappingURL=853.7c52bce2.chunk.js.map